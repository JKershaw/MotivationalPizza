<% include components/pageHeader %>

	<div class="row">
		<div class="col-sm-6 col-sm-offset-3">

			<p id="enter-task-instructions"><strong>Your new task:</strong></p>

			<form action='/NewTask' method="POST">

				<div class="form-group">
					<input type="text" class="form-control input-lg" id='task-text' name='task-text' placeholder="Build a rocket ship..." required autofocus> 
				</div>

				<div class="form-group">
					<div class="input-group input-group-sm">
						<span class="input-group-addon">Tags</span>
						<input type="text" class="form-control" id='task-tags' name='task-tags' placeholder="space, rocket ship"> 
					</div>
				</div>

				<% if(commonTags.length > 0) {%>
					<p>Common tags: 
						<% for (var tag_i = 0; tag_i < commonTags.length; tag_i ++) { %><% if (tag_i > 0) { %>, <%}%><a class="tag"><%=commonTags[tag_i].text%></a><%}%>
					</p>
				<%}%>

				<p><strong>When are you going to do it?</strong></p>

				<div class="form-group">
					<label class="radio-inline">
						<input type="radio" id="task-when" name="task-when" value="today" <% if (todayIsfull) { %>disabled<%} else {%>checked<%}%>> Today
					</label>
					<label class="radio-inline">
						<input type="radio" id="task-when" name="task-when" value="tomorrow" <% if (todayIsfull) { %>checked<%}%>> Tomorrow
					</label>
					<label class="radio-inline">
						<input type="radio" id="task-when" name="task-when" value="some-other-time"> Some other time
					</label>
				</div>

				<% if (todayIsfull) { %>
					<div class="alert alert-warning">
						<p>
							You have reached the maximum number of incomplete tasks for Today.
						</p>
					</div>
				<%}%>

				<p><strong>When is it due? (optional)</strong></p>
				
				<div class="form-group">
					<div class="input-group input-group-sm">
						<input type="date" class="form-control" id='task-duedate' name='task-duedate'> 
					</div>
				</div>

				<div class="form-group">
					<button type="submit" class="btn btn-default">Add Task</button>
				</div>
			</form>
		</div>
	</div>

	<script src="/js/tag-selection-populates-tags-input.js"></script>

<% include components/pageFooter %>